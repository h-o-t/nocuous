"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
async function load(config) {
  config =
    config || (await Promise.resolve().then(() => require("./config.json")));
  const statMap = new Map();
  for (const statName of Object.keys(config)) {
    const statModule = `${__dirname}/${statName}`;
    const fn = (await Promise.resolve().then(() => require(statModule))).stat;
    statMap.set(statName, {
      fn,
      options: config[statName]
    });
  }
  return statMap;
}
exports.load = load;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3N0YXRzL2xvYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWVPLEtBQUssVUFBVSxJQUFJLENBQUMsTUFBZTtJQUN4QyxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsMkNBQWEsZUFBZSxFQUFDLENBQUMsQ0FBQztJQUVuRCxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsRUFBb0IsQ0FBQztJQUU1QyxLQUFLLE1BQU0sUUFBUSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFDMUMsTUFBTSxVQUFVLEdBQUcsR0FBRyxTQUFTLElBQUksUUFBUSxFQUFFLENBQUM7UUFDOUMsTUFBTSxFQUFFLEdBQXNCLENBQUMsMkNBQWEsVUFBVSxFQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDOUQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUU7WUFDcEIsRUFBRTtZQUNGLE9BQU8sRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDO1NBQzFCLENBQUMsQ0FBQztLQUNKO0lBRUQsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQztBQWZELG9CQWVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhdCwgU3RhdE9wdGlvbnMgfSBmcm9tIFwiLi4vaW50ZXJmYWNlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpZyB7XG4gIFtzdGF0TmFtZTogc3RyaW5nXTogU3RhdE9wdGlvbnM7XG59XG5cbmludGVyZmFjZSBTdGF0SW5mbzxPIGV4dGVuZHMgU3RhdE9wdGlvbnMgPSBTdGF0T3B0aW9ucz4ge1xuICBmbjogU3RhdDxPPjtcbiAgb3B0aW9uczogTztcbn1cblxuLyoqXG4gKiBMb2FkIHRoZSBzdGF0cyBhc3luYyBhbmQgcmVzb2x2ZSB3aXRoIGEgYE1hcGAgdGhhdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dFxuICogdGhlIHN0YXRzLCBpbmNsdWRpbmcgdGhlIHN0YXQgZnVuY3Rpb24gYW5kIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoY29uZmlnPzogQ29uZmlnKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBTdGF0SW5mbz4+IHtcbiAgY29uZmlnID0gY29uZmlnIHx8IChhd2FpdCBpbXBvcnQoXCIuL2NvbmZpZy5qc29uXCIpKTtcblxuICBjb25zdCBzdGF0TWFwID0gbmV3IE1hcDxzdHJpbmcsIFN0YXRJbmZvPigpO1xuXG4gIGZvciAoY29uc3Qgc3RhdE5hbWUgb2YgT2JqZWN0LmtleXMoY29uZmlnKSkge1xuICAgIGNvbnN0IHN0YXRNb2R1bGUgPSBgJHtfX2Rpcm5hbWV9LyR7c3RhdE5hbWV9YDtcbiAgICBjb25zdCBmbjogU3RhdDxTdGF0T3B0aW9ucz4gPSAoYXdhaXQgaW1wb3J0KHN0YXRNb2R1bGUpKS5zdGF0O1xuICAgIHN0YXRNYXAuc2V0KHN0YXROYW1lLCB7XG4gICAgICBmbixcbiAgICAgIG9wdGlvbnM6IGNvbmZpZ1tzdGF0TmFtZV1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzdGF0TWFwO1xufVxuIl19
