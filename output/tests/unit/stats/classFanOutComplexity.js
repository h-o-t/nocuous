"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const { describe, it } = intern.getInterface("bdd");
const { expect } = intern.getPlugin("chai");
const util_1 = require("../util");
const classFanOutComplexity_1 = require("../../../src/stats/classFanOutComplexity");
describe("stats/classFanOutComplexity", () => {
  it("returns undefined when no items", async () => {
    const sourceFile = util_1.fixtureAsSourceFile("simple.ts");
    const result = await classFanOutComplexity_1.stat(sourceFile, {
      threshold: 5
    });
    expect(result).to.be.undefined;
  });
  it("should count classes", async () => {
    const sourceFile = util_1.fixtureAsSourceFile(
      "stats/classFanOutComplexity.ts"
    );
    const result = await classFanOutComplexity_1.stat(sourceFile, {
      threshold: 5
    });
    expect(result).to.not.be.undefined;
    expect(result.count).to.equal(5);
  });
  it("score based on the threshold", async () => {
    const sourceFile = util_1.fixtureAsSourceFile(
      "stats/classFanOutComplexity.ts"
    );
    const result = await classFanOutComplexity_1.stat(sourceFile, {
      threshold: 5
    });
    expect(result).to.not.be.undefined;
    expect(result.score).to.equal(1);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xhc3NGYW5PdXRDb21wbGV4aXR5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdGVzdHMvdW5pdC9zdGF0cy9jbGFzc0Zhbk91dENvbXBsZXhpdHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEQsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFNUMsa0NBQThDO0FBRTlDLG9GQUFnRTtBQUVoRSxRQUFRLENBQUMsNkJBQTZCLEVBQUUsR0FBRyxFQUFFO0lBQzNDLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxLQUFLLElBQUksRUFBRTtRQUMvQyxNQUFNLFVBQVUsR0FBRywwQkFBbUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRCxNQUFNLE1BQU0sR0FBRyxNQUFNLDRCQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDO0lBQ2pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLHNCQUFzQixFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ3BDLE1BQU0sVUFBVSxHQUFHLDBCQUFtQixDQUFDLGdDQUFnQyxDQUFDLENBQUM7UUFDekUsTUFBTSxNQUFNLEdBQUcsTUFBTSw0QkFBSSxDQUFDLFVBQVUsRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDbkMsTUFBTSxDQUFDLE1BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLDhCQUE4QixFQUFFLEtBQUssSUFBSSxFQUFFO1FBQzVDLE1BQU0sVUFBVSxHQUFHLDBCQUFtQixDQUFDLGdDQUFnQyxDQUFDLENBQUM7UUFDekUsTUFBTSxNQUFNLEdBQUcsTUFBTSw0QkFBSSxDQUFDLFVBQVUsRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDbkMsTUFBTSxDQUFDLE1BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGRlc2NyaWJlLCBpdCB9ID0gaW50ZXJuLmdldEludGVyZmFjZShcImJkZFwiKTtcbmNvbnN0IHsgZXhwZWN0IH0gPSBpbnRlcm4uZ2V0UGx1Z2luKFwiY2hhaVwiKTtcblxuaW1wb3J0IHsgZml4dHVyZUFzU291cmNlRmlsZSB9IGZyb20gXCIuLi91dGlsXCI7XG5cbmltcG9ydCB7IHN0YXQgfSBmcm9tIFwiLi4vLi4vLi4vc3JjL3N0YXRzL2NsYXNzRmFuT3V0Q29tcGxleGl0eVwiO1xuXG5kZXNjcmliZShcInN0YXRzL2NsYXNzRmFuT3V0Q29tcGxleGl0eVwiLCAoKSA9PiB7XG4gIGl0KFwicmV0dXJucyB1bmRlZmluZWQgd2hlbiBubyBpdGVtc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlRmlsZSA9IGZpeHR1cmVBc1NvdXJjZUZpbGUoXCJzaW1wbGUudHNcIik7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RhdChzb3VyY2VGaWxlLCB7IHRocmVzaG9sZDogNSB9KTtcbiAgICBleHBlY3QocmVzdWx0KS50by5iZS51bmRlZmluZWQ7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIGNvdW50IGNsYXNzZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHNvdXJjZUZpbGUgPSBmaXh0dXJlQXNTb3VyY2VGaWxlKFwic3RhdHMvY2xhc3NGYW5PdXRDb21wbGV4aXR5LnRzXCIpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0YXQoc291cmNlRmlsZSwgeyB0aHJlc2hvbGQ6IDUgfSk7XG4gICAgZXhwZWN0KHJlc3VsdCkudG8ubm90LmJlLnVuZGVmaW5lZDtcbiAgICBleHBlY3QocmVzdWx0IS5jb3VudCkudG8uZXF1YWwoNSk7XG4gIH0pO1xuXG4gIGl0KFwic2NvcmUgYmFzZWQgb24gdGhlIHRocmVzaG9sZFwiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlRmlsZSA9IGZpeHR1cmVBc1NvdXJjZUZpbGUoXCJzdGF0cy9jbGFzc0Zhbk91dENvbXBsZXhpdHkudHNcIik7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RhdChzb3VyY2VGaWxlLCB7IHRocmVzaG9sZDogNSB9KTtcbiAgICBleHBlY3QocmVzdWx0KS50by5ub3QuYmUudW5kZWZpbmVkO1xuICAgIGV4cGVjdChyZXN1bHQhLnNjb3JlKS50by5lcXVhbCgxKTtcbiAgfSk7XG59KTtcbiJdfQ==
