"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const { describe, it } = intern.getInterface("bdd");
const { expect } = intern.getPlugin("chai");
const util_1 = require("../util");
const anonInnerLength_1 = require("../../../src/stats/anonInnerLength");
describe("stats/anonInnerLength", () => {
  it("returns undefined when no items", async () => {
    const sourceFile = util_1.fixtureAsSourceFile("simple.ts");
    const result = await anonInnerLength_1.stat(sourceFile, { threshold: 35 });
    expect(result).to.be.undefined;
  });
  it("should count arrow functions and class expressions", async () => {
    const sourceFile = util_1.fixtureAsSourceFile("stats/anonInnerLength.ts");
    const result = await anonInnerLength_1.stat(sourceFile, { threshold: 35 });
    expect(result).to.not.be.undefined;
    expect(result.count).to.equal(3);
  });
  it("should score properly based on threshold", async () => {
    const sourceFile = util_1.fixtureAsSourceFile("stats/anonInnerLength.ts");
    const result = await anonInnerLength_1.stat(sourceFile, { threshold: 35 });
    expect(result).to.not.be.undefined;
    expect(result.score).to.equal(1);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5vbklubmVyTGVuZ3RoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdGVzdHMvdW5pdC9zdGF0cy9hbm9uSW5uZXJMZW5ndGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNLEVBQUUsUUFBUSxFQUFFLEVBQUUsRUFBRSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEQsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFNUMsa0NBQThDO0FBRTlDLHdFQUEwRDtBQUUxRCxRQUFRLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO0lBQ3JDLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxLQUFLLElBQUksRUFBRTtRQUMvQyxNQUFNLFVBQVUsR0FBRywwQkFBbUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRCxNQUFNLE1BQU0sR0FBRyxNQUFNLHNCQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDekQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDO0lBQ2pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLG9EQUFvRCxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ2xFLE1BQU0sVUFBVSxHQUFHLDBCQUFtQixDQUFDLDBCQUEwQixDQUFDLENBQUM7UUFDbkUsTUFBTSxNQUFNLEdBQUcsTUFBTSxzQkFBSSxDQUFDLFVBQVUsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDbkMsTUFBTSxDQUFDLE1BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLDBDQUEwQyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ3hELE1BQU0sVUFBVSxHQUFHLDBCQUFtQixDQUFDLDBCQUEwQixDQUFDLENBQUM7UUFDbkUsTUFBTSxNQUFNLEdBQUcsTUFBTSxzQkFBSSxDQUFDLFVBQVUsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3pELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDbkMsTUFBTSxDQUFDLE1BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGRlc2NyaWJlLCBpdCB9ID0gaW50ZXJuLmdldEludGVyZmFjZShcImJkZFwiKTtcbmNvbnN0IHsgZXhwZWN0IH0gPSBpbnRlcm4uZ2V0UGx1Z2luKFwiY2hhaVwiKTtcblxuaW1wb3J0IHsgZml4dHVyZUFzU291cmNlRmlsZSB9IGZyb20gXCIuLi91dGlsXCI7XG5cbmltcG9ydCB7IHN0YXQgfSBmcm9tIFwiLi4vLi4vLi4vc3JjL3N0YXRzL2Fub25Jbm5lckxlbmd0aFwiO1xuXG5kZXNjcmliZShcInN0YXRzL2Fub25Jbm5lckxlbmd0aFwiLCAoKSA9PiB7XG4gIGl0KFwicmV0dXJucyB1bmRlZmluZWQgd2hlbiBubyBpdGVtc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc291cmNlRmlsZSA9IGZpeHR1cmVBc1NvdXJjZUZpbGUoXCJzaW1wbGUudHNcIik7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RhdChzb3VyY2VGaWxlLCB7IHRocmVzaG9sZDogMzUgfSk7XG4gICAgZXhwZWN0KHJlc3VsdCkudG8uYmUudW5kZWZpbmVkO1xuICB9KTtcblxuICBpdChcInNob3VsZCBjb3VudCBhcnJvdyBmdW5jdGlvbnMgYW5kIGNsYXNzIGV4cHJlc3Npb25zXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2VGaWxlID0gZml4dHVyZUFzU291cmNlRmlsZShcInN0YXRzL2Fub25Jbm5lckxlbmd0aC50c1wiKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGF0KHNvdXJjZUZpbGUsIHsgdGhyZXNob2xkOiAzNSB9KTtcbiAgICBleHBlY3QocmVzdWx0KS50by5ub3QuYmUudW5kZWZpbmVkO1xuICAgIGV4cGVjdChyZXN1bHQhLmNvdW50KS50by5lcXVhbCgzKTtcbiAgfSk7XG5cbiAgaXQoXCJzaG91bGQgc2NvcmUgcHJvcGVybHkgYmFzZWQgb24gdGhyZXNob2xkXCIsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzb3VyY2VGaWxlID0gZml4dHVyZUFzU291cmNlRmlsZShcInN0YXRzL2Fub25Jbm5lckxlbmd0aC50c1wiKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGF0KHNvdXJjZUZpbGUsIHsgdGhyZXNob2xkOiAzNSB9KTtcbiAgICBleHBlY3QocmVzdWx0KS50by5ub3QuYmUudW5kZWZpbmVkO1xuICAgIGV4cGVjdChyZXN1bHQhLnNjb3JlKS50by5lcXVhbCgxKTtcbiAgfSk7XG59KTtcbiJdfQ==
